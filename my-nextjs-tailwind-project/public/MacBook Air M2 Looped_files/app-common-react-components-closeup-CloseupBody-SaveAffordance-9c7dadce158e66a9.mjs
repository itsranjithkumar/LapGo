"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[53970,32322],{890330:(e,a,n)=>{var l,t,r,i;n.r(a),n.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="e0cd549ce31635291bd74113393edc53";let s=o},415212:(e,a,n)=>{var l,t,r,i;n.r(a),n.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="7c32abc79b81b52b7c0d6582f9278b22";let s=o},501109:(e,a,n)=>{var l,t,r,i,o,s;n.r(a),n.d(a,{default:()=>d});let u={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"ban"},t={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,l],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};u.hash="a3cb87deead5a06468a3b46652f22daa";let d=u},129502:(e,a,n)=>{var l,t,r,i,o,s,u,d;n.r(a),n.d(a,{default:()=>m});let c={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[r,u={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,s,d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},d],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[u],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};c.hash="f70efc59a3f6a73e0af36081d8552b3a";let m=c},643547:(e,a,n)=>{var l,t,r,i,o,s,u,d,c,m;n.r(a),n.d(a,{default:()=>_});let p=(l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},c={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null},m=[i,d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:o,storageKey:null},s,u,d,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[r,c],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:m,storageKey:null},s,u,d,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:m,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[c],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});p.hash="38716861de712c68561883b0d58d8bc6";let _=p},82107:(e,a,n)=>{var l,t,r,i;n.r(a),n.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_emails_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};o.hash="a7278ebf81f3869f03eb0bf7df4daeb4";let s=o},956189:(e,a,n)=>{var l,t,r,i,o,s;n.r(a),n.d(a,{default:()=>d});let u={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"boardId"},t={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},r={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,r],kind:"Operation",name:"collab_users_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};u.hash="f4d87e820bd0fba4aa4c8fdaeed6231e";let d=u},243789:(e,a,n)=>{n.r(a),n.d(a,{default:()=>F});var l=n(667294),t=n(545007),r=n(883119),i=n(281584),o=n(609326),s=n(602185),u=n(989820),d=n(144326),c=n(770975);function m({constraint:e}){let a=(0,c.E)(),n=a?.getId();return(0,l.useEffect)(()=>{a&&a.markConstraintComplete(e)},[n,e]),null}var p=n(750077),_=n(864723),g=n(154785),b=n(969119),y=n(273777),k=n(897791),f=n(207462),v=n(345020),h=n(179735),I=n(785893);let K=(0,h.Z)(()=>n.e(43473).then(n.bind(n,396261)),void 0,"PinSaveButtonCommon"),E=(0,l.lazy)(async()=>({default:(await Promise.all([n.e(69965),n.e(22538)]).then(n.bind(n,474465))).QuickSaveButtonWithExperienceAnchor})),F=({boardCount:e=0,clientTrackingParams:a,fromEggsBoard:n,onBoardSelectionFlyoutChange:h,onClickCallback:F,pin:T,showEnabledSaveBehavior:D,showRepinOnInitialRender:C,variant:S,viewParameter:L,viewType:R})=>{let A=(0,c.E)(),{experience:M}=(0,u.Ow)(1000310),{experience:w}=(0,u.Ow)(12),V=(0,g.Z)(),U=(0,t.I0)(),B=(0,d.ZP)(),x=(0,l.useRef)(!1),{pins:O,clear:N}=(0,k.Z)(),P=(0,_.M0)().getItem(o.M8)||"",Z=P?P===T.id:!!O&&O.length>0&&O[O.length-1].id===T.id;(0,b.Z)(()=>{x.current||2!==O.length&&(1!==O.length||Z)||(x.current=!0,(2===O.length&&!P&&Z?[O[0]]:O).forEach(({id:e,nodeId:a})=>{(0,i.Z)({description:"",entityId:e,link:"",promotedIsRemovable:void 0,title:""},B).then(n=>{let{id:l,url:t,name:r}=n;U((0,f.d)({boardId:l,url:t,title:r||"",pinId:e||"",nodeId:a}))})}),Z||N())});let j=()=>{(0,_.M0)().removeItem(o.M8),(0,_.M0)().removeItem(o.RD),N(),V({action:"trigger",item:"unauth-save-button-quicksave"}),U((0,v.hT)(!0)),U((0,f.d)({boardId:"",url:"",title:"Profile",pinId:T.id,nodeId:T?.node_id})),U((0,f.X)(T))},q=()=>{A&&A.markConstraintComplete("button")};if(T?.pinner?.blocked_by_me||T?.promoted_is_removable)return(0,I.jsx)(m,{constraint:"button"});if(M&&502450===M.experience_id)return(0,I.jsx)(s.Z,{name:"SafeSuspense_SaveAffordance_QuickSaveButton",children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(E,{autoQuicksaveCallback:j,clientTrackingParams:a,experience:M,onClickCallback:F,onMount:q,pinKey:{type:"deprecated",data:T},shouldAutoQuicksave:Z,showEnabledSaveBehavior:D,viewParameter:L})})});let $=!T.content_sensitivity?.is_sensitive_content&&void 0!==e,Q=[501041],z=w&&501041===w.experience_id&&w.display_data.has_tooltip?e=>(0,I.jsx)(u.Qp,{anchor:e,experienceIds:Q,idealDirection:"down",placementId:12,positionRelativeToAnchor:!0,showCaret:!0}):e=>(0,I.jsx)(u.N,{anchors:{3010:e},idealDirection:"down",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0});return $?(0,I.jsx)(r.xu,{children:(0,I.jsx)(s.Z,{name:"SafeSuspense_SaveAffordance_PinBetterSave",children:(0,I.jsx)(y.default,{autoQuicksaveCallback:j,clientTrackingParams:a,fromEggsBoard:n,onClickCallback:F,onMount:q,onToggleFlyout:h,pinKey:{type:"deprecated",data:T},renderPinSaveTooltip:z,shouldAutoQuicksave:Z,variant:S,viewParameter:L,viewType:R})})}):(0,I.jsx)(s.Z,{name:"SafeSuspense_SaveAffordance_PinSaveButton",children:(0,I.jsx)(p.Z,{children:(0,I.jsx)(K,{clientTrackingParams:a,isCloseupPin:!0,onClickCallback:F,onMount:q,pinKey:{type:"deprecated",data:T},renderPinSaveTooltip:z,showRepinOnInitialRender:C})})})}},360307:(e,a,n)=>{n.d(a,{Z:()=>r});let l=function(e,a){this.uid=e,this.item=a,this.next=null,this.prev=null},t=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};t.prototype.set=function(e,a){let n=this._uidToData[e];n||(n=new l(e,a),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},t.prototype.get=function(e){let a=this._uidToData[e];return a?(this._moveToFront(a),a.item):null},t.prototype.remove=function(e){let a=this._uidToData[e];a&&(delete this._uidToData[e],this._firstData===a&&(this._firstData=a.next),this._lastData===a&&(this._lastData=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),this._numItems-=1)},t.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},t.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let r=t},456082:(e,a,n)=>{n.d(a,{i:()=>t,x:()=>r});var l=n(267005);let t=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function r({apiErrorCode:e,onShowMessage:a,onPassCodeRequired:n,onPassCodeSkipConfirmation:t}){e&&(({[l.RR]:a,[l.mX]:n,[l.q6]:t})[e]||a)()}},278762:(e,a,n)=>{n.d(a,{Z:()=>t});var l=n(252071);let t=e=>l.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},89934:(e,a,n)=>{n.d(a,{Z:()=>r});var l=n(667294),t=n(961414);function r({allowSearchOnMount:e,children:a,onTypeaheadSuggestionsChange:n,resourceName:r,resourceOptions:i,value:o}){let s=(0,t.Z)({allowSearchOnMount:e,resourceName:r,resourceOptions:i,value:o});return(0,l.useEffect)(()=>{s?.length&&n(s)},[s]),a||null}},961414:(e,a,n)=>{n.d(a,{Z:()=>i});var l=n(667294),t=n(360307),r=n(465848);function i({allowSearchOnMount:e=!1,resourceName:a,resourceOptions:n={},value:i}){let o=(0,l.useRef)(!1),s=(0,l.useRef)({}),[u,d]=(0,l.useState)([]),c=function({resourceName:e,resourceOptions:a}){let n=(0,r.vL)(),i=(0,l.useRef)();return i.current||(i.current=function({resourceCreator:e,resourceName:a,resourceOptions:n}){let l=e(a,{...n,count:"count"in n?n.count:5}),r=new t.Z,i=()=>{l.abort()},o=async(e,a)=>{if(l.isCalling()){let n=l.options?.term,t=l.options?.pin_scope;if(e===n&&a===t)return;i()}let{bookmarks:n,...t}=l.options||{};l.options={...t,term:e,pin_scope:a};let{data:o}=(await l.callGet({showError:!1})).resource_response,s=o?.items,u=o?.hint||{};return r.set(`${a}-${e}`,{hint:u,items:s}),{term:e,items:s,hint:u}};return async function(e,a){let n=r.get(`${a}-${e}`);if(n){let{items:a}=n;if(a&&a.length){i();let{hint:l}=n;return{hint:l,items:a,term:e}}}return e.length>=0?o(e,a):{hint:{},items:[],term:e}}}({resourceCreator:n,resourceName:e,resourceOptions:a})),i.current}({resourceName:a,resourceOptions:n}),m=n.pin_scope||"pins",p=`${m}-${i}`;return(0,l.useEffect)(()=>{(async()=>{if(null!=i&&""!==i&&(e||o.current)){if(p in s.current)d(s.current[p]);else try{let e=await c(i,m);if(e){let{items:a}=e;s.current[p]=a,d(a)}}catch(e){if("Resource call aborted"===e)return;throw e}}o.current||(o.current=!0)})()},[i,m,p]),u}},360410:(e,a,n)=>{n.d(a,{Z:()=>t});let l=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,t=e=>l.test(e)},897791:(e,a,n)=>{n.d(a,{$:()=>o,Z:()=>d});var l=n(609326),t=n(192820),r=n(864723),i=n(166408);let o=2,s=e=>e?.pins??[],u=e=>e.length?{pins:e}:null,d=()=>{let e=(0,r.M0)(),a=s(e.accessAllowed?e.getItem(l.s1):i.ZP.getItem(t.w3)),n=a=>e.accessAllowed?e.setItem(l.s1,u(a)):i.ZP.setItem(t.w3,u(a)),d=()=>a.length<o;return{pins:a,save:e=>{d()&&n(a.filter(({id:a})=>a!==e.id).concat([e]))},unsave:e=>n(a.filter(({id:a})=>a!==e)),isSaved:e=>a.some(({id:a})=>a===e),clear:()=>n([]),canSaveMore:d}}},332322:(e,a,n)=>{n.d(a,{A8:()=>v,CQ:()=>T,Cf:()=>k,DK:()=>g,GJ:()=>F,RZ:()=>h,SD:()=>I,aN:()=>D,h6:()=>y,tV:()=>E,xx:()=>f,yC:()=>C,zC:()=>b});var l,t,r,i,o,s,u,d=n(545007),c=n(167912),m=n(252071),p=n(573706),_=n(400416);let g=()=>{let e=void 0!==l?l:l=n(956189),[a]=(0,c.useMutation)(e),{logContextEvent:t}=(0,p.v)();return async(e,n,l)=>{let r={boardId:e,collaboratorIds:n,message:l||""};return await new Promise((n,l)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&l(r[0]),t({event_type:28,object_id_str:e}),n()},onError:e=>l(e)})})}},b=()=>{let e=void 0!==t?t:t=n(82107),[a]=(0,c.useMutation)(e),{logContextEvent:l}=(0,p.v)();return async(e,n,t)=>{let r={boardId:e,emails:n,message:t||""};return await new Promise((n,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),l({event_type:28,object_id_str:e}),n()},onError:e=>t(e)})})}},y=()=>{let e=void 0!==r?r:r=n(415212),[a]=(0,c.useMutation)(e),{logContextEvent:l}=(0,p.v)();return async(e,n)=>{let t={boardId:e,userId:n};return await new Promise((n,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),l({event_type:32,object_id_str:e}),n(a)},onError:e=>r(e)})})}};function k(e,a){return async n=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:a}}),n({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:a}})}}function f(e,a){return async n=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:a}}),n({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,a)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:a}}),h=()=>{let e=void 0!==i?i:i=n(890330),[a]=(0,c.useMutation)(e),{logContextEvent:l}=(0,p.v)();return async e=>{let n={boardId:e};return await new Promise((t,r)=>{a({variables:{...n},onCompleted:(a,n)=>{n&&r(n[0]),l({event_type:32,object_id_str:e}),t(a)},onError:e=>r(e)})})}},I=(e,a,n)=>async l=>{l(v(e,a)),(await m.Z.create("BoardInviteResource",{board_id:e,invited_user_id:a.id}).callUpdate()).resource_response.error||n({event_type:32,object_id_str:e})};function K(e,a){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:a}}}let E=()=>{let e=void 0!==o?o:o=n(643547),[a]=(0,c.useMutation)(e),l=(0,d.I0)();return async e=>{let n={boardId:e};return await new Promise((t,r)=>{a({variables:{...n},onCompleted:(a,n)=>{n&&(l(K(e,!1)),r(n[0])),l(K(e,!0)),t(a)},onError:a=>{l(K(e,!1)),r(a)}})})}};function F(e,a){return n=>{(0,_.Z)({url:`/v3/boards/${e}/collaborators/request/${a}/`,method:"DELETE",data:{board:e,user:a}}).catch(()=>{n(K(e,!0))}),n(K(e,!1))}}let T=()=>{let e=void 0!==s?s:s=n(501109),[a]=(0,c.useMutation)(e),{logContextEvent:l}=(0,p.v)();return async(e,n,t)=>{let r={boardId:e,userId:n,ban:!!t&&t};return await new Promise((n,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),l({event_type:29,object_id_str:e}),n(a)},onError:e=>t(e)})})}},D=()=>{let e=void 0!==u?u:u=n(129502),[a]=(0,c.useMutation)(e),{logContextEvent:l}=(0,p.v)();return async(e,n)=>{let t={board:e,collaboratorIds:[n]};return await new Promise((n,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),l({event_type:29,object_id_str:e}),n(a)},onError:e=>r(e)})})}},C=()=>{let e=T(),a=D();return(n,l,t)=>async()=>{let{invited_user:l,status:r,board:{id:i}}=n;l&&("accepted"===r?await a(i,l.id):await e(i,l.id,t))}}},345020:(e,a,n)=>{n.d(a,{Cp:()=>g,GT:()=>u,V6:()=>o,W2:()=>c,W6:()=>b,_L:()=>_,fm:()=>s,hT:()=>d});var l=n(252071),t=n(456082),r=n(278762),i=n(468808);function o(e,a){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:a}}}let s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),u=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function d(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}let c=(e,a,n)=>l=>{l({type:"USER_SETTING_CHANGE",payload:{id:e,field:a,value:n}})},m=(e,a,n)=>l=>{l({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:a,value:n}})},p=e=>{let a=e.split(" ");return{first_name:a[0],last_name:a[1]}},_=({field:e,value:a,passcode:n,onSettingSavedHn:r,showErrorHn:o,surfaceTag:s,userId:u,passcodeSkipAcknowledged:d=!1,otp:_,onFinallyHn:g})=>async(b,y)=>{let k=y().users[u],f={user_id:u,surface_tag:s};if("full_name"===e){if(k.is_partner)f.business_name=a;else{let e=p(a);f.first_name=e.first_name,f.last_name=e.last_name||""}}else f[e]=a;n&&(f.passcode=n),t.i.includes(e)&&null!=d&&(f.user_confirm_skip_passcode=d),_&&(f.otp=_);try{let n=await l.Z.create("UserSettingsResource",f).callUpdate();if("email"===e&&n?.resource_response.data?.email_changing_to){o({email_changing_to:n.resource_response.data.email_changing_to});return}if("profile_image_url"===e)b((0,i.b)("UserResource",{options:f}));else if("full_name"===e){if(k.is_partner)b(c(u,"first_name",a));else{let e=p(a);b(c(u,"first_name",e.first_name)),b(c(u,"last_name",e.last_name))}}b(k.is_partner&&("account_type"===e||"contact_name"===e)?m(u,e,a):c(u,e,a)),r()}catch(e){o(e)}finally{g?.()}},g=(e,a,n,l,t,i,o)=>()=>{(0,r.Z)({new:a,new_confirm:n,old:e,passcode:l,recaptcha_v3_token:t}).then(i,o)},b=(e,a,n,t,r,i)=>o=>{o(c(e,`${a}.${n}`,t));let s={},u="EmailSettingsResource";void 0!==r?(s={section:a,option:n,value:t,od:r.od,user_id:r.user_id},u="UnsubEmailSettingsResource"):s={section:a,option:n,value:t},l.Z.create(u,s).callUpdate().then(i).catch(()=>o(c(e,`${a}.${n}`,!t)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-common-react-components-closeup-CloseupBody-SaveAffordance-9c7dadce158e66a9.mjs.map